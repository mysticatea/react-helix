!function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{var t;t="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,t.reactHelix=e()}}(function(){return function e(t,n,o){function r(i,a){if(!n[i]){if(!t[i]){var l="function"==typeof require&&require;if(!a&&l)return l(i,!0);if(u)return u(i,!0);var f=new Error("Cannot find module '"+i+"'");throw f.code="MODULE_NOT_FOUND",f}var c=n[i]={exports:{}};t[i][0].call(c.exports,function(e){var n=t[i][1][e];return r(n?n:e)},c,c.exports,e,t,n,o)}return n[i].exports}for(var u="function"==typeof require&&require,i=0;i<o.length;i++)r(o[i]);return r}({1:[function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(e.__proto__=t)}Object.defineProperty(n,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),a=e("react"),l=o(a),f=e("./agent-impl"),c=o(f),d=function(e){function t(){r(this,t),null!=e&&e.apply(this,arguments)}return u(t,e),i(t,[{key:"componentDidMount",value:function(){}},{key:"componentDidUpdate",value:function(){}},{key:"request",value:function(e){var t=[],n=arguments.length-1,o=void 0;if(n>=1){for(var r=1;n>r;++r)t.push(arguments[r]);"function"!=typeof arguments[n]?t.push(arguments[n]):o=arguments[n]}return c["default"].sendAction(this,e,t,o)}}]),t}(l["default"].Component);n["default"]=d,t.exports=n["default"]},{"./agent-impl":6,react:"react"}],2:[function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(n,"__esModule",{value:!0});var r=e("./agent-impl"),u=o(r);n["default"]={componentDidMount:function(){},componentDidUpdate:function(){},request:function(e){var t=[],n=arguments.length-1,o=void 0;if(n>=1){for(var r=1;n>r;++r)t.push(arguments[r]);"function"!=typeof arguments[n]?t.push(arguments[n]):o=arguments[n]}return u["default"].sendAction(this,e,t,o)}},t.exports=n["default"]},{"./agent-impl":6}],3:[function(e,t,n){"use strict";function o(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function r(e){return"function"==typeof e}function u(e){return"object"==typeof e&&"function"==typeof e.then}function i(e){return"object"==typeof e&&"function"==typeof e.next&&"function"==typeof e["throw"]}function a(e,t,n,o,r){try{e.setStageValue(n,o)}catch(u){r(u)}}function l(e,t,n,o,r){var u=void 0;try{u=n(e.stageValue)}catch(i){return void r(i)}d(e,t,u,o,r)}function f(e,t,n,o,r){n.then(function(n){t?o(n):d(e,t,n,o,r)},r)}function c(e,t,n,o,r){function u(e){var t=void 0;try{t=n.next(e)}catch(o){return void r(o)}a(t)}function i(e){var t=void 0;try{t=n["throw"](e)}catch(o){return void r(o)}a(t)}function a(t){t.done?d(e,!0,t.value,o,r):d(e,!0,t.value,u,i)}u(void 0)}function d(e,t,n,o,d){if(void 0===n)return void o(e.stageValue);var s=r(n)?l:u(n)?f:i(n)?c:a;s(e,t,n,o,d)}function s(e,t,n){var r=document.createEvent("CustomEvent"),u=!1;return r.initCustomEvent(p,!0,!0,null),Object.defineProperties(r,{action:{value:e,configurable:!0,enumerable:!0,writable:!0},arguments:{value:t,configurable:!0,enumerable:!0,writable:!0},applyTo:{value:function(e){u=!0;var t=void 0;try{t=this.action.apply(this,[e.stageValue].concat(o(this.arguments)))}catch(r){return void(null!=n&&n(r))}d(e,!1,t,function(e){return n&&n(null,e)},n)}},rejectIfNotHandled:{value:function(){u===!1&&(u=!0,null!=n&&n(new Error("not handled")))}}}),r}Object.defineProperty(n,"__esModule",{value:!0}),n.createSendActionEvent=s;var p="helix-sent-action";n.EVENT_NAME=p},{}],4:[function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(e.__proto__=t)}Object.defineProperty(n,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),a=function(e,t,n){for(var o=!0;o;){var r=e,u=t,i=n;a=f=l=void 0,o=!1;var a=Object.getOwnPropertyDescriptor(r,u);if(void 0!==a){if("value"in a)return a.value;var l=a.get;return void 0===l?void 0:l.call(i)}var f=Object.getPrototypeOf(r);if(null===f)return void 0;e=f,t=u,n=i,o=!0}},l=e("react"),f=o(l),c=e("./stage-impl"),d=o(c),s=function(e){function t(e){var n=void 0===arguments[1]?"":arguments[1];r(this,t),a(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,e),d["default"].initialize(this,n)}return u(t,e),i(t,[{key:"componentDidMount",value:function(){d["default"].setupHandler(this)}},{key:"componentDidUpdate",value:function(){d["default"].setupHandler(this)}},{key:"componentWillUnmount",value:function(){d["default"].teardownHandler(this)}},{key:"componentWillUpdate",value:function(){d["default"].teardownHandler(this)}},{key:"filterAction",value:function(){return!0}}]),t}(f["default"].Component);n["default"]=s,t.exports=n["default"]},{"./stage-impl":7,react:"react"}],5:[function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(n,"__esModule",{value:!0});var r=e("./stage-impl"),u=o(r);n["default"]={componentWillMount:function(){u["default"].initialize(this,this.stageValuePath||"")},componentDidMount:function(){u["default"].setupHandler(this)},componentDidUpdate:function(){u["default"].setupHandler(this)},componentWillUpdate:function(){u["default"].teardownHandler(this)},componentWillUnmount:function(){u["default"].teardownHandler(this)}},t.exports=n["default"]},{"./stage-impl":7}],6:[function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(n,"__esModule",{value:!0});var r=e("react"),u=o(r),i=e("./SendActionEvent");n["default"]={validate:function(e){},sendAction:function(e,t,n,o){var r=u["default"].findDOMNode(e),a=i.createSendActionEvent(t,n,o);r.dispatchEvent(a),a.rejectIfNotHandled()}},t.exports=n["default"]},{"./SendActionEvent":3,react:"react"}],7:[function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}function r(e){return"string"==typeof e?e.split(".").filter(Boolean):[]}function u(e){var t=void 0;switch(e.length){case 0:t="return this.state;";break;default:var n=e.length-1;t="var tmp0 = this.state;";for(var o=0;n>o;++o)t+="\nif (tmp"+o+" == null) {\n  return undefined;\n}\nvar tmp"+(o+1)+" = tmp"+o+"."+e[o]+";";t+="\nreturn tmp"+n+" && tmp"+n+"."+e[n]+";"}return Function(t)}function i(e){var t="var cb2 = cb && function() { cb(this.stageValue); }.bind(this);";switch(e.length){case 0:t+="\nthis.setState(value, cb2);";break;case 1:t+="\nthis.setState({"+e[0]+": value}, cb2);";break;default:var n=e.length-1;t+="\nvar tmp0 = this.state || {};";for(var o=0;n>o;++o)t+="\nvar tmp"+(o+1)+" = tmp"+o+"."+e[o]+";\nif (tmp"+(o+1)+" == null) {\n  tmp"+(o+1)+" = tmp"+o+"."+e[o]+" = {};\n}";t+="\ntmp"+n+"."+e[n]+" = value;\nthis.setState(tmp0, cb2);"}return Function("value","cb",t)}function a(e){e.defaultPrevented||("function"!=typeof this.filterAction||this.filterAction(e))&&(e.stopPropagation(),e.applyTo(this))}Object.defineProperty(n,"__esModule",{value:!0});var l=e("react"),f=o(l),c=e("./SendActionEvent");n["default"]={initialize:function(e,t){if(!e.stageMixinInitialized){var n=r(t),o=u(n);Object.defineProperties(e,{stageMixinInitialized:{value:!0,configurable:!0},stageMixinHandleSendAction:{value:a.bind(e),configurable:!0},stageValue:{get:o,configurable:!0,enumerable:!0},setStageValue:{value:i(n).bind(e),configurable:!0}})}},setupHandler:function(e){var t=f["default"].findDOMNode(e);t.addEventListener(c.EVENT_NAME,e.stageMixinHandleSendAction)},teardownHandler:function(e){var t=f["default"].findDOMNode(e);null!=t&&t.removeEventListener(c.EVENT_NAME,e.stageMixinHandleSendAction)}},t.exports=n["default"]},{"./SendActionEvent":3,react:"react"}],8:[function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(n,"__esModule",{value:!0});var r=e("./AgentComponent"),u=o(r),i=e("./AgentMixin"),a=o(i),l=e("./StageComponent"),f=o(l),c=e("./StageMixin"),d=o(c);n["default"]={AgentComponent:u["default"],AgentMixin:a["default"],StageComponent:f["default"],StageMixin:d["default"]},n.AgentComponent=u["default"],n.AgentMixin=a["default"],n.StageComponent=f["default"],n.StageMixin=d["default"]},{"./AgentComponent":1,"./AgentMixin":2,"./StageComponent":4,"./StageMixin":5}]},{},[8])(8)});
