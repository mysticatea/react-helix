!function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{var t;t="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,t.reactHelix=e()}}(function(){return function e(t,n,r){function o(i,a){if(!n[i]){if(!t[i]){var l="function"==typeof require&&require;if(!a&&l)return l(i,!0);if(u)return u(i,!0);var f=new Error("Cannot find module '"+i+"'");throw f.code="MODULE_NOT_FOUND",f}var c=n[i]={exports:{}};t[i][0].call(c.exports,function(e){var n=t[i][1][e];return o(n?n:e)},c,c.exports,e,t,n,r)}return n[i].exports}for(var u="function"==typeof require&&require,i=0;i<r.length;i++)o(r[i]);return o}({1:[function(e,t,n){"use strict";var r=function(e){return e&&e.__esModule?e:{"default":e}},o=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(e.__proto__=t)};Object.defineProperty(n,"__esModule",{value:!0});var a=e("react"),l=r(a),f=e("./agent-impl"),c=r(f),d=function(e){function t(){o(this,t),null!=e&&e.apply(this,arguments)}return i(t,e),u(t,[{key:"componentDidMount",value:function(){}},{key:"componentDidUpdate",value:function(){}},{key:"request",value:function(e){var t=[],n=arguments.length-1,r=void 0;if(n>=1){for(var o=1;n>o;++o)t.push(arguments[o]);"function"!=typeof arguments[n]?t.push(arguments[n]):r=arguments[n]}return c["default"].sendAction(this,e,t,r)}}]),t}(l["default"].Component);n["default"]=d,t.exports=n["default"]},{"./agent-impl":6,react:"react"}],2:[function(e,t,n){"use strict";var r=function(e){return e&&e.__esModule?e:{"default":e}};Object.defineProperty(n,"__esModule",{value:!0});var o=e("./agent-impl"),u=r(o);n["default"]={componentDidMount:function(){},componentDidUpdate:function(){},request:function(e){var t=[],n=arguments.length-1,r=void 0;if(n>=1){for(var o=1;n>o;++o)t.push(arguments[o]);"function"!=typeof arguments[n]?t.push(arguments[n]):r=arguments[n]}return u["default"].sendAction(this,e,t,r)}},t.exports=n["default"]},{"./agent-impl":6}],3:[function(e,t,n){"use strict";function r(e){return"function"==typeof e}function o(e){return"object"==typeof e&&"function"==typeof e.then}function u(e){return"object"==typeof e&&"function"==typeof e.next&&"function"==typeof e["throw"]}function i(e,t,n,r,o){try{e.setStageValue(n,r)}catch(u){o(u)}}function a(e,t,n,r,o){var u=void 0;try{u=n(e.stageValue)}catch(i){return void o(i)}c(e,t,u,r,o)}function l(e,t,n,r,o){n.then(function(n){t?r(n):c(e,t,n,r,o)},o)}function f(e,t,n,r,o){function u(e){var t=void 0;try{t=n.next(e)}catch(r){return void o(r)}a(t)}function i(e){var t=void 0;try{t=n["throw"](e)}catch(r){return void o(r)}a(t)}function a(t){t.done?c(e,!0,t.value,r,o):c(e,!0,t.value,u,i)}u(void 0)}function c(e,t,n,c,d){if(void 0===n)return void c(e.stageValue);var s=r(n)?a:o(n)?l:u(n)?f:i;s(e,t,n,c,d)}function d(e,t,n){var r=document.createEvent("CustomEvent"),o=!1;return r.initCustomEvent(p,!0,!0,null),Object.defineProperties(r,{action:{value:e,configurable:!0,enumerable:!0,writable:!0},arguments:{value:t,configurable:!0,enumerable:!0,writable:!0},applyTo:{value:function(e){o=!0;var t=void 0;try{t=this.action.apply(this,[e.stageValue].concat(s(this.arguments)))}catch(r){return void(null!=n&&n(r))}c(e,!1,t,function(e){return n&&n(null,e)},n)}},rejectIfNotHandled:{value:function(){o===!1&&(o=!0,null!=n&&n(new Error("not handled")))}}}),r}var s=function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)};Object.defineProperty(n,"__esModule",{value:!0}),n.createSendActionEvent=d;var p="helix-sent-action";n.EVENT_NAME=p},{}],4:[function(e,t,n){"use strict";var r=function(e){return e&&e.__esModule?e:{"default":e}},o=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=function p(e,t,n){var r=Object.getOwnPropertyDescriptor(e,t);if(void 0===r){var o=Object.getPrototypeOf(e);return null===o?void 0:p(o,t,n)}if("value"in r)return r.value;var u=r.get;return void 0===u?void 0:u.call(n)},a=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(e.__proto__=t)};Object.defineProperty(n,"__esModule",{value:!0});var l=e("react"),f=r(l),c=e("./stage-impl"),d=r(c),s=function(e){function t(e){var n=void 0===arguments[1]?"":arguments[1];o(this,t),i(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,e),d["default"].initialize(this,n)}return a(t,e),u(t,[{key:"componentDidMount",value:function(){d["default"].setupHandler(this)}},{key:"componentDidUpdate",value:function(){d["default"].setupHandler(this)}},{key:"componentWillUnmount",value:function(){d["default"].teardownHandler(this)}},{key:"componentWillUpdate",value:function(){d["default"].teardownHandler(this)}},{key:"filterAction",value:function(){return!0}}]),t}(f["default"].Component);n["default"]=s,t.exports=n["default"]},{"./stage-impl":8,react:"react"}],5:[function(e,t,n){"use strict";var r=function(e){return e&&e.__esModule?e:{"default":e}};Object.defineProperty(n,"__esModule",{value:!0});var o=e("./stage-impl"),u=r(o);n["default"]={componentWillMount:function(){u["default"].initialize(this,this.stageValuePath||"")},componentDidMount:function(){u["default"].setupHandler(this)},componentDidUpdate:function(){u["default"].setupHandler(this)},componentWillUpdate:function(){u["default"].teardownHandler(this)},componentWillUnmount:function(){u["default"].teardownHandler(this)}},t.exports=n["default"]},{"./stage-impl":8}],6:[function(e,t,n){"use strict";var r=function(e){return e&&e.__esModule?e:{"default":e}};Object.defineProperty(n,"__esModule",{value:!0});var o=e("react"),u=r(o),i=e("./SendActionEvent");n["default"]={validate:function(e){},sendAction:function(e,t,n,r){var o=u["default"].findDOMNode(e),a=i.createSendActionEvent(t,n,r);o.dispatchEvent(a),a.rejectIfNotHandled()}},t.exports=n["default"]},{"./SendActionEvent":3,react:"react"}],7:[function(e,t,n){"use strict";var r=function(e){return e&&e.__esModule?e:{"default":e}};Object.defineProperty(n,"__esModule",{value:!0});var o=e("./AgentComponent"),u=r(o),i=e("./AgentMixin"),a=r(i),l=e("./StageComponent"),f=r(l),c=e("./StageMixin"),d=r(c);n["default"]={AgentComponent:u["default"],AgentMixin:a["default"],StageComponent:f["default"],StageMixin:d["default"]},n.AgentComponent=u["default"],n.AgentMixin=a["default"],n.StageComponent=f["default"],n.StageMixin=d["default"]},{"./AgentComponent":1,"./AgentMixin":2,"./StageComponent":4,"./StageMixin":5}],8:[function(e,t,n){"use strict";function r(e){return"string"==typeof e?e.split(".").filter(Boolean):[]}function o(e){var t=void 0;switch(e.length){case 0:t="return this.state;";break;default:var n=e.length-1;t="var tmp0 = this.state;";for(var r=0;n>r;++r)t+="\nif (tmp"+r+" == null) {\n  return undefined;\n}\nvar tmp"+(r+1)+" = tmp"+r+"."+e[r]+";";t+="\nreturn tmp"+n+" && tmp"+n+"."+e[n]+";"}return Function(t)}function u(e){var t="var cb2 = cb && function() { cb(this.stageValue); }.bind(this);";switch(e.length){case 0:t+="\nthis.setState(value, cb2);";break;case 1:t+="\nthis.setState({"+e[0]+": value}, cb2);";break;default:var n=e.length-1;t+="\nvar tmp0 = this.state || {};";for(var r=0;n>r;++r)t+="\nvar tmp"+(r+1)+" = tmp"+r+"."+e[r]+";\nif (tmp"+(r+1)+" == null) {\n  tmp"+(r+1)+" = tmp"+r+"."+e[r]+" = {};\n}";t+="\ntmp"+n+"."+e[n]+" = value;\nthis.setState(tmp0, cb2);"}return Function("value","cb",t)}function i(e){e.defaultPrevented||("function"!=typeof this.filterAction||this.filterAction(e))&&(e.stopPropagation(),e.applyTo(this))}var a=function(e){return e&&e.__esModule?e:{"default":e}};Object.defineProperty(n,"__esModule",{value:!0});var l=e("react"),f=a(l),c=e("./SendActionEvent");n["default"]={initialize:function(e,t){if(!e.stageMixinInitialized){var n=r(t),a=o(n);Object.defineProperties(e,{stageMixinInitialized:{value:!0,configurable:!0},stageMixinHandleSendAction:{value:i.bind(e),configurable:!0},stageValue:{get:a,configurable:!0,enumerable:!0},setStageValue:{value:u(n).bind(e),configurable:!0}})}},setupHandler:function(e){var t=f["default"].findDOMNode(e);t.addEventListener(c.EVENT_NAME,e.stageMixinHandleSendAction)},teardownHandler:function(e){var t=f["default"].findDOMNode(e);null!=t&&t.removeEventListener(c.EVENT_NAME,e.stageMixinHandleSendAction)}},t.exports=n["default"]},{"./SendActionEvent":3,react:"react"}]},{},[7])(7)});